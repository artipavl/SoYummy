{"version":3,"file":"static/js/630.414fbcbb.chunk.js","mappings":"uQAgFA,EAvEsB,WACpB,OAA8BA,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACA,GAAwBJ,EAAAA,EAAAA,UAAS,GAAjC,eAAOK,EAAP,KAAaC,EAAb,KACA,GAAkCN,EAAAA,EAAAA,UAAS,MAA3C,eAAOO,EAAP,KAAkBC,EAAlB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,6FACnBR,GAAW,GADQ,mBAGES,EAAAA,EAAAA,IAAaN,GAHf,OAGXO,EAHW,OAIjBR,EAAcQ,EAAKC,SAEbC,EAAiBC,KAAKC,KAAKJ,EAAKK,MAAQ,IACzB,GACnBT,EAAaM,GARE,kDAWjBI,QAAQC,IAAR,MAXiB,yBAajBjB,GAAW,GAbM,6EAAH,qDAgBlBQ,GACD,GAAE,CAACL,IAEJ,IAAMe,EAAY,mCAAG,WAAMC,GAAN,iGAEXC,EAAAA,EAAAA,IAAeD,GAFJ,wBAGEV,EAAAA,EAAAA,IAAaN,GAHf,OAGXO,EAHW,OAIjBR,EAAcQ,EAAKC,QAJF,gDAMjBK,QAAQC,IAAR,MANiB,yDAAH,sDAclB,OACE,UAAC,KAAD,WACGlB,IACC,SAAC,KAAD,WACE,SAACsB,EAAA,EAAD,MAGmB,IAAtBpB,EAAWqB,QAAiBvB,GAe3B,SAAC,KAAD,0CAdAE,EAAWsB,KAAI,gBAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,QAASC,EAAzB,EAAyBA,KAAMC,EAA/B,EAA+BA,MAAOC,EAAtC,EAAsCA,IAAtC,OACb,SAACC,EAAA,EAAD,CAEEL,YAAaA,EACbC,QAASA,EACTC,KAAMA,EACNC,MAAOA,EACPR,GAAIS,EACJV,aAAcA,EACdY,SAAS,QACTC,SAAS,QARJH,EAFM,IAgBhBvB,IACC,SAAC2B,EAAA,EAAD,CAAYC,UAAW5B,EAAWF,KAAMA,EAAM+B,OA7B/B,SAAAC,GACnB/B,EAAQ+B,EAAEC,SAAW,EACtB,MA+BF,E,oBCnED,EAPkB,kBAChB,UAAC,IAAD,YACE,SAACC,EAAA,EAAD,CAAWC,KAAK,gBAChB,SAAC,EAAD,MAHc,C","sources":["components/MyRecipesList/MyRecipesList.js","pages/MyRecipes/MyRecipes.js"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { getMyRecipes, deleteMyRecipe } from 'api/index';\nimport MyRecipeItem from 'components/MyRecipeItem/MyRecipeItem';\nimport { Loader } from '../Loader/Loader';\nimport Pagination from '../Pagination/Pagination';\n\nimport { List, ListText, LoaderBox } from '../FavoriteList/FavoriteList.styled';\n\nconst MyRecipesList = () => {\n  const [loading, setLoading] = useState(true);\n  const [allRecipes, setAllRecipes] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPage, setTotalPage] = useState(null);\n\n  useEffect(() => {\n    const renderMovies = async () => {\n      setLoading(true);\n      try {\n        const data = await getMyRecipes(page);\n        setAllRecipes(data.result);\n\n        const totalCountPage = Math.ceil(data.total / 4);\n        if (totalCountPage > 1) {\n          setTotalPage(totalCountPage);\n        }\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    renderMovies();\n  }, [page]);\n\n  const handelDelete = async id => {\n    try {\n      await deleteMyRecipe(id);\n      const data = await getMyRecipes(page);\n      setAllRecipes(data.result);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleChange = e => {\n    setPage(e.selected + 1);\n  };\n\n  return (\n    <List>\n      {loading && (\n        <LoaderBox>\n          <Loader />\n        </LoaderBox>\n      )}\n      {allRecipes.length !== 0 && !loading ? (\n        allRecipes.map(({ description, preview, time, title, _id }) => (\n          <MyRecipeItem\n            key={_id}\n            description={description}\n            preview={preview}\n            time={time}\n            title={title}\n            id={_id}\n            handelDelete={handelDelete}\n            styleDel=\"white\"\n            styleBtn=\"dark\"\n          />\n        ))\n      ) : (\n        <ListText>You don't have your recipes</ListText>\n      )}\n      {totalPage && (\n        <Pagination pageCount={totalPage} page={page} change={handleChange} />\n      )}\n    </List>\n  );\n};\n\nexport default MyRecipesList;\n","import MyRecipesList from 'components/MyRecipesList/MyRecipesList';\nimport MainTitle from 'components/MainTitle/MainTitle';\nimport { Page } from '../Favorite/Favorite.styled';\n\nconst MyRecipes = () => (\n  <Page>\n    <MainTitle text=\"My recipes\" />\n    <MyRecipesList />\n  </Page>\n);\n\nexport default MyRecipes;\n"],"names":["useState","loading","setLoading","allRecipes","setAllRecipes","page","setPage","totalPage","setTotalPage","useEffect","renderMovies","getMyRecipes","data","result","totalCountPage","Math","ceil","total","console","log","handelDelete","id","deleteMyRecipe","Loader","length","map","description","preview","time","title","_id","MyRecipeItem","styleDel","styleBtn","Pagination","pageCount","change","e","selected","MainTitle","text"],"sourceRoot":""}